<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock Moving Averages</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
      }
      form {
        margin: 20px;
      }
      input,
      select,
      button {
        margin: 5px;
        padding: 10px;
        font-size: 16px;
      }
      img {
        margin-top: 20px;
        width: 80%;
        max-width: 800px;
      }
    </style>
  </head>
  <body>
    <h1>Stock Moving Averages Calculator</h1>

    <form method="POST">
      <label>Stock Ticker:</label>
      <input type="text" name="ticker" value="{{ ticker }}" required />

      <label>Select SMA Periods:</label>
      <select name="sma_periods" multiple>
        <option value="10" {% if 10 in sma_periods %}selected{% endif %}>
          10-Day
        </option>
        <option value="20" {% if 20 in sma_periods %}selected{% endif %}>
          20-Day
        </option>
        <option value="50" {% if 50 in sma_periods %}selected{% endif %}>
          50-Day
        </option>
        <option value="100" {% if 100 in sma_periods %}selected{% endif %}>
          100-Day
        </option>
      </select>

      <button type="submit">Get Chart</button>
    </form>

    {% if image %}
    <img src="data:image/png;base64,{{ image }}" alt="Stock Chart" />
    {% endif %}
  </body>
</html>
